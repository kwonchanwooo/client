{"ast":null,"code":"import _regeneratorRuntime from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import Layout from'../common/Layout';import{useState}from'react';import{useNavigate}from'react-router-dom';import firebase from'../firebase';import styled from'styled-components';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BtnSet=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tmargin-top: 20px;\\n\\tdisplay: flex;\\n\\tgap: 20px;\\n\\tpadding-bottom: 60px;\\n\"])));var Form=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tbackground-color: white;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tpadding-top: 60px;\\n\\tborder-radius: 10px;\\n\\tmargin-bottom: auto;\\n\\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\\n\"])));var Input=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\twidth: 60%;\\n\\theight: 40px;\\n\\tmargin-bottom: 40px;\\n\\n\\tlabel {\\n\\t\\theight: 40px;\\n\\t\\twidth: 20%;\\n\\t\\tmargin-right: 20px;\\n\\t\\t> h2 {\\n\\t\\t\\tfont-size: 15px;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tline-height: 1.8;\\n\\t\\t}\\n\\t}\\n\\tinput {\\n\\t\\twidth: 70%;\\n\\t\\theight: 40px;\\n\\n\\t\\tborder-radius: 10px;\\n\\t}\\n\"])));function Join(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),Email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Pwd1=_useState4[0],setPwd1=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),Pwd2=_useState6[0],setPwd2=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),Name=_useState8[0],setName=_useState8[1];var handleJoin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var createdUser,item;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(Name&&Email&&Pwd1&&Pwd2){_context.next=2;break;}return _context.abrupt(\"return\",alert('모든 양식을 입력하세요.'));case 2:if(!(Pwd1!==Pwd2)){_context.next=4;break;}return _context.abrupt(\"return\",alert('비밀번호 2개를 동일하게 입력하세요.'));case 4:_context.next=6;return firebase.auth().createUserWithEmailAndPassword(Email,Pwd1);case 6:createdUser=_context.sent;_context.next=9;return createdUser.user.updateProfile({displayName:Name});case 9:firebase.auth().signOut();item={displayName:createdUser.user.multiFactor.user.displayName,uid:createdUser.user.multiFactor.user.uid};axios.post('/api/user/join',item).then(function(res){if(res.data.success){navigate('/login');}else return alert('회원가입에 실패했습니다.');});case 12:case\"end\":return _context.stop();}},_callee);}));return function handleJoin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Layout,{name:'Join',children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Input,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Email\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC774\\uBA54\\uC77C\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:Email,placeholder:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Input,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Pwd1\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:Pwd1,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",onChange:function onChange(e){return setPwd1(e.target.value);}})]}),/*#__PURE__*/_jsxs(Input,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Pwd2\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:Pwd2,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC7AC\\uC785\\uB825\\uD558\\uC138\\uC694.\",onChange:function onChange(e){return setPwd2(e.target.value);}})]}),/*#__PURE__*/_jsxs(Input,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Name\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC0AC\\uC6A9\\uC790\\uBA85\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:Name,placeholder:\"\\uC0AC\\uC6A9\\uC790\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(BtnSet,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(-1);},children:\"\\uAC00\\uC785\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleJoin,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]})});}export default Join;","map":{"version":3,"names":["Layout","useState","useNavigate","firebase","styled","axios","jsx","_jsx","jsxs","_jsxs","BtnSet","div","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","Input","_templateObject3","Join","navigate","_useState","_useState2","_slicedToArray","Email","setEmail","_useState3","_useState4","Pwd1","setPwd1","_useState5","_useState6","Pwd2","setPwd2","_useState7","_useState8","Name","setName","handleJoin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","createdUser","item","wrap","_callee$","_context","prev","next","abrupt","alert","auth","createUserWithEmailAndPassword","sent","user","updateProfile","displayName","signOut","multiFactor","uid","post","then","res","data","success","stop","apply","arguments","name","children","htmlFor","type","value","placeholder","onChange","e","target","onClick"],"sources":["/Users/home/Desktop/the node/node+react/client/src/user/Join.jsx"],"sourcesContent":["import Layout from '../common/Layout';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport firebase from '../firebase';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\nconst BtnSet = styled.div`\n\tmargin-top: 20px;\n\tdisplay: flex;\n\tgap: 20px;\n\tpadding-bottom: 60px;\n`;\n\nconst Form = styled.div`\n\tbackground-color: white;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-top: 60px;\n\tborder-radius: 10px;\n\tmargin-bottom: auto;\n\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\n`;\n\nconst Input = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 60%;\n\theight: 40px;\n\tmargin-bottom: 40px;\n\n\tlabel {\n\t\theight: 40px;\n\t\twidth: 20%;\n\t\tmargin-right: 20px;\n\t\t> h2 {\n\t\t\tfont-size: 15px;\n\t\t\tdisplay: flex;\n\t\t\tline-height: 1.8;\n\t\t}\n\t}\n\tinput {\n\t\twidth: 70%;\n\t\theight: 40px;\n\n\t\tborder-radius: 10px;\n\t}\n`;\n\nfunction Join() {\n\tconst navigate = useNavigate();\n\tconst [Email, setEmail] = useState('');\n\tconst [Pwd1, setPwd1] = useState('');\n\tconst [Pwd2, setPwd2] = useState('');\n\tconst [Name, setName] = useState('');\n\n\tconst handleJoin = async () => {\n\t\tif (!(Name && Email && Pwd1 && Pwd2)) return alert('모든 양식을 입력하세요.');\n\t\tif (Pwd1 !== Pwd2) return alert('비밀번호 2개를 동일하게 입력하세요.');\n\n\t\tlet createdUser = await firebase.auth().createUserWithEmailAndPassword(Email, Pwd1);\n\t\tawait createdUser.user.updateProfile({ displayName: Name });\n\t\tfirebase.auth().signOut();\n\n\t\tconst item = {\n\t\t\tdisplayName: createdUser.user.multiFactor.user.displayName,\n\t\t\tuid: createdUser.user.multiFactor.user.uid,\n\t\t};\n\n\t\taxios.post('/api/user/join', item).then((res) => {\n\t\t\tif (res.data.success) {\n\t\t\t\tnavigate('/login');\n\t\t\t} else return alert('회원가입에 실패했습니다.');\n\t\t});\n\t};\n\n\treturn (\n\t\t<Layout name={'Join'}>\n\t\t\t<Form>\n\t\t\t\t<Input>\n\t\t\t\t\t<label htmlFor='Email'>\n\t\t\t\t\t\t<h2>이메일</h2>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='email' value={Email} placeholder='이메일 주소를 입력하세요.' onChange={(e) => setEmail(e.target.value)} />\n\t\t\t\t</Input>\n\t\t\t\t<Input>\n\t\t\t\t\t<label htmlFor='Pwd1'>\n\t\t\t\t\t\t<h2>비밀번호</h2>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='password' value={Pwd1} placeholder='비밀번호를 입력하세요.' onChange={(e) => setPwd1(e.target.value)} />\n\t\t\t\t</Input>\n\t\t\t\t<Input>\n\t\t\t\t\t<label htmlFor='Pwd2'>\n\t\t\t\t\t\t<h2>비밀번호 확인</h2>\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<input type='password' value={Pwd2} placeholder='비밀번호를 재입력하세요.' onChange={(e) => setPwd2(e.target.value)} />\n\t\t\t\t</Input>\n\t\t\t\t<Input>\n\t\t\t\t\t<label htmlFor='Name'>\n\t\t\t\t\t\t<h2>사용자명</h2>\n\t\t\t\t\t</label>\n\n\t\t\t\t\t<input type='text' value={Name} placeholder='사용자명을 입력하세요.' onChange={(e) => setName(e.target.value)} />\n\t\t\t\t</Input>\n\t\t\t\t<BtnSet>\n\t\t\t\t\t<button onClick={() => navigate(-1)}>가입취소</button>\n\t\t\t\t\t<button onClick={handleJoin}>회원가입</button>\n\t\t\t\t</BtnSet>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n}\n\nexport default Join;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}