{"ast":null,"code":"import _slicedToArray from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import Layout from'../common/Layout';import axios from'axios';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Item=styled.article(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\twidth: calc(100% / 3.2);\\n\\tpadding: 30px 40px;\\n\\tbackground: white;\\n\\tmargin-bottom: 50px;\\n\\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.02);\\n\\tborder-radius: 10px;\\n\\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\\n\\n\\tfloat: left;\\n\\tmargin-right: 10px;\\n\\theight: 200px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\t&:hover {\\n\\t\\ttransform: scale(1.01);\\n\\t\\ttransition: 0.3s;\\n\\t\\tbackground: #e9c4c4;\\n\\t}\\n\\t.desc {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\talign-items: flex-end;\\n\\t}\\n\"])));function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),List=_useState2[0],setList=_useState2[1];useEffect(function(){axios.get('/api/community/read/0').then(function(res){if(res.data.success){setList(res.data.communityList);//요청은 성공해서 응답은 받았으나 DB로 데이터 가져오는것을 실패했을때\n}else{console.log('데이터 요청에 실패했습니다.');}})//요청 자체가 실패했을떄\n.catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsx(Layout,{name:'목록',children:List.map(function(post,idx){return/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(post.communityNum),children:post.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"desc\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC791\\uC131\\uC790: \",post.writer.displayName]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uAE00 \\uBC88\\uD638 : \",idx+1]})]})]},post._id);})});}export default List;","map":{"version":3,"names":["Layout","axios","useEffect","useState","Link","styled","jsx","_jsx","jsxs","_jsxs","Item","article","_templateObject","_taggedTemplateLiteral","List","_useState","_useState2","_slicedToArray","setList","get","then","res","data","success","communityList","console","log","catch","err","name","children","map","post","idx","to","concat","communityNum","title","className","writer","displayName","_id"],"sources":["/Users/home/Desktop/the node/node+react/client/src/community/List.jsx"],"sourcesContent":["import Layout from '../common/Layout';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst Item = styled.article`\n\twidth: calc(100% / 3.2);\n\tpadding: 30px 40px;\n\tbackground: white;\n\tmargin-bottom: 50px;\n\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.02);\n\tborder-radius: 10px;\n\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\n\n\tfloat: left;\n\tmargin-right: 10px;\n\theight: 200px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\t&:hover {\n\t\ttransform: scale(1.01);\n\t\ttransition: 0.3s;\n\t\tbackground: #e9c4c4;\n\t}\n\t.desc {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-end;\n\t}\n`;\n\nfunction List() {\n\tconst [List, setList] = useState([]);\n\n\tuseEffect(() => {\n\t\taxios\n\t\t\t.get('/api/community/read/0')\n\t\t\t.then((res) => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\tsetList(res.data.communityList);\n\t\t\t\t\t//요청은 성공해서 응답은 받았으나 DB로 데이터 가져오는것을 실패했을때\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('데이터 요청에 실패했습니다.');\n\t\t\t\t}\n\t\t\t})\n\t\t\t//요청 자체가 실패했을떄\n\t\t\t.catch((err) => console.log(err));\n\t}, []);\n\n\treturn (\n\t\t<Layout name={'목록'}>\n\t\t\t{List.map((post, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Item key={post._id}>\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t<Link to={`/detail/${post.communityNum}`}>{post.title}</Link>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<div className='desc'>\n\t\t\t\t\t\t\t<span>작성자: {post.writer.displayName}</span>\n\t\t\t\t\t\t\t<span>글 번호 : {idx + 1}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Item>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Layout>\n\t);\n}\n\nexport default List;\n"],"mappings":"4SAAA,MAAO,CAAAA,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,IAAI,CAAGL,MAAM,CAACM,OAAO,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,gjBAyB1B,CAED,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACf,IAAAC,SAAA,CAAwBZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BD,IAAI,CAAAE,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBd,SAAS,CAAC,UAAM,CACfD,KAAK,CACHkB,GAAG,CAAC,uBAAuB,CAAC,CAC5BC,IAAI,CAAC,SAACC,GAAG,CAAK,CACd,GAAIA,GAAG,CAACC,IAAI,CAACC,OAAO,CAAE,CACrBL,OAAO,CAACG,GAAG,CAACC,IAAI,CAACE,aAAa,CAAC,CAC/B;AACD,CAAC,IAAM,CACNC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAC/B,CACD,CAAC,CACD;AAAA,CACCC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,GAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACCrB,IAAA,CAACP,MAAM,EAAC6B,IAAI,CAAE,IAAK,CAAAC,QAAA,CACjBhB,IAAI,CAACiB,GAAG,CAAC,SAACC,IAAI,CAAEC,GAAG,CAAK,CACxB,mBACCxB,KAAA,CAACC,IAAI,EAAAoB,QAAA,eACJvB,IAAA,OAAAuB,QAAA,cACCvB,IAAA,CAACH,IAAI,EAAC8B,EAAE,YAAAC,MAAA,CAAaH,IAAI,CAACI,YAAY,CAAG,CAAAN,QAAA,CAAEE,IAAI,CAACK,KAAK,EAAQ,EACzD,cACL5B,KAAA,QAAK6B,SAAS,CAAC,MAAM,CAAAR,QAAA,eACpBrB,KAAA,SAAAqB,QAAA,EAAM,sBAAK,CAACE,IAAI,CAACO,MAAM,CAACC,WAAW,GAAQ,cAC3C/B,KAAA,SAAAqB,QAAA,EAAM,wBAAO,CAACG,GAAG,CAAG,CAAC,GAAQ,GACxB,GAPID,IAAI,CAACS,GAAG,CAQZ,CAET,CAAC,CAAC,EACM,CAEX,CAEA,cAAe,CAAA3B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}