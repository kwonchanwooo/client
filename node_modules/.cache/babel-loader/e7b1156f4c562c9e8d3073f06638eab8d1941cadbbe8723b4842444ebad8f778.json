{"ast":null,"code":"import _slicedToArray from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/home/Desktop/the node/node+react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import axios from'axios';import{useState,useEffect}from'react';import Layout from'../common/Layout';import{useNavigate}from'react-router-dom';import{useSelector}from'react-redux';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tbackground-color: white;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tpadding-top: 60px;\\n\\tborder-radius: 10px;\\n\\tmargin-bottom: auto;\\n\\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\\n\\tpadding-bottom: 60px;\\n\"])));function Create(){var user=useSelector(function(store){return store.user;});var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),Tit=_useState2[0],setTit=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Con=_useState4[0],setCon=_useState4[1];var handleCreate=function handleCreate(){if(Tit.trim()===''||Con.trim()==='')return alert('제목과 본문을 모두 입력하세요');//글 저장시 서보 요청을 보낼때 현재 로그인되어 있는 사용자의 고유 아이디값을 같이 전달\nvar item={title:Tit,content:Con,uid:user.uid};axios.post('/api/community/create',item).then(function(res){if(res.data.success){alert('글 저장이 완료되었습니다. ');navigate('/list');}else{alert('글 저장에 실패했습니다.');}}).catch(function(err){return console.log(err);});};useEffect(function(){if(user.uid==='')navigate('/');},[navigate,user]);return/*#__PURE__*/_jsx(Layout,{name:'한글자 남기기',children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tit\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"tit\",value:Tit,onChange:function onChange(e){return setTit(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"con\",children:\"\\uB0A8\\uAE38 \\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"cons\",id:\"id\",cols:\"30\",rows:\"3\",value:Con,onChange:function onChange(e){return setCon(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,children:\"SEND\"})]})});}export default Create;","map":{"version":3,"names":["axios","useState","useEffect","Layout","useNavigate","useSelector","styled","jsx","_jsx","jsxs","_jsxs","Form","div","_templateObject","_taggedTemplateLiteral","Create","user","store","navigate","_useState","_useState2","_slicedToArray","Tit","setTit","_useState3","_useState4","Con","setCon","handleCreate","trim","alert","item","title","content","uid","post","then","res","data","success","catch","err","console","log","name","children","htmlFor","type","id","value","onChange","e","target","cols","rows","onClick"],"sources":["/Users/home/Desktop/the node/node+react/client/src/community/Create.jsx"],"sourcesContent":["import axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport Layout from '../common/Layout';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nconst Form = styled.div`\n\tbackground-color: white;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-top: 60px;\n\tborder-radius: 10px;\n\tmargin-bottom: auto;\n\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);\n\tpadding-bottom: 60px;\n`;\n\nfunction Create() {\n\tconst user = useSelector((store) => store.user);\n\tconst navigate = useNavigate();\n\tconst [Tit, setTit] = useState('');\n\tconst [Con, setCon] = useState('');\n\n\tconst handleCreate = () => {\n\t\tif (Tit.trim() === '' || Con.trim() === '') return alert('제목과 본문을 모두 입력하세요');\n\t\t//글 저장시 서보 요청을 보낼때 현재 로그인되어 있는 사용자의 고유 아이디값을 같이 전달\n\t\tconst item = { title: Tit, content: Con, uid: user.uid };\n\n\t\taxios\n\t\t\t.post('/api/community/create', item)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\talert('글 저장이 완료되었습니다. ');\n\t\t\t\t\tnavigate('/list');\n\t\t\t\t} else {\n\t\t\t\t\talert('글 저장에 실패했습니다.');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tuseEffect(() => {\n\t\tif (user.uid === '') navigate('/');\n\t}, [navigate, user]);\n\n\treturn (\n\t\t<Layout name={'한글자 남기기'}>\n\t\t\t<Form>\n\t\t\t\t<label htmlFor='tit'>제목</label>\n\t\t\t\t<input type='text' id='tit' value={Tit} onChange={(e) => setTit(e.target.value)} />\n\t\t\t\t<br />\n\t\t\t\t<label htmlFor='con'>남길 내용</label>\n\t\t\t\t<textarea name='cons' id='id' cols='30' rows='3' value={Con} onChange={(e) => setCon(e.target.value)}></textarea>\n\t\t\t\t<br />\n\t\t\t\t<button onClick={handleCreate}>SEND</button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n}\n\nexport default Create;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}